#include <avr/io.h>

int main (void)
{
    while (1)
    {
        /* Check if button is pressed */
        if ()
        {
            /* Change state */
        }

        /* Check if state is TURN ON LAMP */
        if ()
        {
            /* Turn on lamp */
        }
    }
}